{
  "name": "vNugglets.Utility",
  "tagline": "A PowerShell module with nearly all of the vNugglets goodness from over the years, all in one place!",
  "body": "## vNugglets.Utility PowerShell module ##\r\n\r\nSome examples and their sample output (see each cmdlet's help for more examples):\r\n### `Connect-VNVIServer`: Connects to the given vCenters, update window's title bar\r\n        C:\\PS> Connect-VNVIServer -Credential $myCred -Server myVC0.dom.com, myVC1.dom.com\r\n        Name                 Port  User\r\n        ----                 ----  ----\r\n        myVC0.dom.com        443   DOM\\USER0\r\n        myVC1.dom.com        443   DOM\\USER0\r\n    \r\n    \r\n### `Copy-VNVIRole`: Copy VIRoles from here to there\r\nCopy the VIRole \"SysAdm\" from the given source vCenter to a new VIRole named \"SysAdm_copyTest\" in the given destination vCenter\r\n\r\n        C:\\PS> Copy-VNVIRole -SourceRoleName SysAdm -DestinationRoleName SysAdm_copyTest -SourceVCName `\r\n        >> vcenter.dom.com -DestinationVCName othervcenter.dom.com\r\n        Name                 IsSystem\r\n        ----                 --------\r\n        SysAdm_copyTest      False\r\n\r\nCopy the given VIRole from the given source vCenter to a new VIRole named \"SysAdm_copyTest\" in the _same_ vCenter\r\n\r\n        C:\\PS> Copy-VNVIRole -SourceRoleName MyTestRole0 -DestinationRoleName SomeRole_copyTest `\r\n        >> -SourceVCName vcenter.dom.com -DestinationVCName vcenter.dom.com\r\n        Name                 IsSystem\r\n        ----                 --------\r\n        SomeRole_copyTest    False\r\n\r\n\r\n### `Get-VNNetworkClusterInfo`: Get VMware HA Cluster info for a virtual network\r\nGets information about virtual networks whose names match the (very simple) regular expressions, \"101\" and \"121\"\r\n\r\n        C:\\PS> Get-VNNetworkClusterInfo -Name 101,234\r\n        Name           ClusterName  ClusterId      Type                                    MoRef\r\n        ----           -----------  ---------      ----                                    -----\r\n        my.Portgrp101  myCluster0   ClusterCom...  VMware.Vim.Network                      Network-ne...\r\n        my.Portgrp234  myCluster20  ClusterCom...  VMware.Vim.DistributedVirtualPortgroup  Network-ne...\r\n    \r\nGets information about virtual networks whose names are literally \"my.Portgroup0\" (not matching \"my.Portgroup01\"or \"test_myXPortgroup0\" -- just a literal match only) \r\n\r\n        C:\\PS> Get-VNNetworkClusterInfo -LiteralName my.Portgroup0 | ft -a\r\n        Name           ClusterName  ClusterId                          Type                MoRef\r\n        ----           -----------  ---------                          ----                -----\r\n        my.Portgroup0  myCluster0   ClusterComputeResource-domain-c94  VMware.Vim.Network  Network-ne...\r\n\r\n    \r\n### `Get-VNUplinkNicForVM`: Get the vmnic uplink used by VMs on given VMHost\r\nGets the Netports on given VMHost, and returns their client name, uplink vmnic, vSwitch, etc.\r\n\r\n        C:\\PS> Get-VNUplinkNicForVM -VMHost myhost0.dom.com -Credential (Get-Credential root)\r\n        ClientName           TeamUplink          vSwitch           VMHost\r\n        ----------           ----------          -------           ---------------\r\n        Management           n/a                 vSwitch0          myhost0.dom.com\r\n        vmk1                 vmnic0              vSwitch0          myhost0.dom.com\r\n        vmk0                 vmnic0              vSwitch0          myhost0.dom.com\r\n        myvm001              vmnic0              vSwitch0          myhost0.dom.com\r\n        myvm002              vmnic3              vSwitch1          myhost0.dom.com\r\n        myvm003              vmnic5              vSwitch2          myhost0.dom.com\r\n        myvm050.eth0         vmnic4              DvsPortset-0      myhost0.dom.com\r\n        ...\r\n\r\n\r\n### `Get-VNVMByAddress`: Get VMs by various addresses\r\nGet VMs with given MAC address, return VM name and its MAC addresses\r\n    \r\n        C:\\PS> Get-VNVMByAddress -MAC 00:50:56:b0:00:01\r\n        Name     MacAddress                              MoRef\r\n        ------   ------------                            -----\r\n        myvm0    {00:50:56:b0:00:01,00:50:56:b0:00:18}   VirtualMachine-vm-2155\r\n    \r\nGet VMs with given IP as reported by VMware Tools, return VM name and its IP addresses\r\n\r\n        C:\\PS> Get-VNVMByAddress -IP 10.37.31.12\r\n        Name     IP                                         MoRef\r\n        ------   ---                                        -----\r\n        myvm10   {192.16.13.1, 10.37.31.12, fe80::000...}   VirtualMachine-vm-13\r\n\r\nUse `-AddressWildcard` to find VMs with approximate IP\r\n\r\n        C:\\PS> Get-VNVMByAddress -AddressWildcard 10.0.0.*\r\n        Name           IP                                      MoRef\r\n        ----           --                                      -----\r\n        myvm3          {10.0.0.20, fe80::000:5600:fe00:6007}   VirtualMachine-vm-153\r\n        mytestVM001    10.0.0.200                              VirtualMachine-vm-162\r\n\r\n\r\n### `Get-VNVMByRDM`: Get VMs by RDM\r\nFind VM using the given LUN as an RDM, returning an object with the information about that RDM harddisk on the VM\r\n    \r\n        C:\\PS> Get-VNVMByRDM -CanonicalName naa.60000112233445501000000000000001 -Cluster someCluster\r\n        VMName            : myvm002\r\n        HardDiskName      : Hard disk 7\r\n        CompatibilityMode : physicalMode\r\n        CanonicalName     : naa.60000112233445501000000000000001\r\n        DeviceDisplayName : myvm002-logs\r\n        MoRef             : VirtualMachine-vm-174\r\n    \r\nFind VMs using the given LUN as an RDM, formatting output in auto-sized table with just the given properties\r\n\r\n        C:\\PS> Get-VNVMByRDM -CanonicalName naa.60000112233445501000000000000002 -Cluster someCluster | `\r\n        >> ft -a VMName, HardDiskName, DeviceDisplayName, CanonicalName\r\n        VMName    HardDiskName  DeviceDisplayName   CanonicalName\r\n        ------    ----------    -----------------   -------------\r\n        myvm0050  Hard disk 10  myMSCluster-quorum  naa.60000112233445501000000000000002\r\n        myvm0051  Hard disk 10  myMSCluster-quorum  naa.60000112233445501000000000000002\r\n\r\n\r\n### `Get-VNVMByVirtualPortGroup`: Get VMs by virtual portgroup\r\nGet networks matching \"VLAN19\", and get their VMs' names and some other VM information\r\n\r\n        C:\\PS> Get-VNVMByVirtualPortGroup -NetworkName VLAN19 | ft VMName,Network,VMHost,Cluster\r\n        VMName          Network         VMHost            Cluster\r\n        ------          -----------     ------            -------\r\n        vm0.dom.com     VLAN19.Sekurr   vmhost0.dom.com   myCluster0\r\n        vm10.dom.com    VLAN19.Sekurr   vmhost3.dom.com   myCluster0\r\n        vm32.dom.com    VLAN19.Sekurr   vmhost2.dom.com   myCluster0\r\n        ...\r\n\r\nGet network named exactly \"VLAN3\", and get its VMs' names and some other VM information\r\n\r\n        C:\\PS> Get-VNVMByVirtualPortGroup -NetworkLiteralName VLAN3 | ft -a\r\n        VMName   Network  VMHost            Cluster     PowerState   MoRef\r\n        ------   -------  ------            -------     ----------   -----\r\n        myVM0    VLAN3    myVMHost.dom.com  myCluster2  poweredOn    VirtualMachine-vm-142\r\n        ...\r\n\r\n\r\n### `Get-VNVMDiskAndRDM`: Get the disks (including RDMs) for VMs\r\nGet the disks (including RDMs) for \"someVM\". Note, the ScsiCanonicalName property is only valid (and only populated for) RDM disks\r\n    \r\n        C:\\PS> Get-VM someVM | Get-VNVMDiskAndRDM\r\n        VMName            : someVM\r\n        HardDiskName      : Hard disk 1\r\n        ScsiId            : 0:0\r\n        DeviceDisplayName :\r\n        SizeGB            : 50\r\n        ScsiCanonicalName :\r\n        \r\n        VMName            : someVM\r\n        HardDiskName      : Hard disk 2\r\n        ScsiId            : 1:0\r\n        DeviceDisplayName : someVM-/log_dir\r\n        SizeGB            : 20\r\n        ScsiCanonicalName : naa.60000111111115615641111111111111\r\n\r\nGet the disks (including RDMs) for VMs matching the name regular expression pattern \"someVM\", formatting output in auto-sized table. Note, the ScsiCanonicalName property is only valid (and only populated for) RDM disks\r\n\r\n        C:\\PS>Get-VNVMDiskAndRDM -VMName someVM | ft -a\r\n        VMName   HardDiskName ScsiId DeviceDisplayName SizeGB ScsiCanonicalName\r\n        ------   ------------ ------ ----------------- ------ -----------------\r\n        someVM0  Hard disk 1  0:0                          50\r\n        someVM0  Hard disk 2  1:0    someVM0-/log_dir      20 naa.60000111111115615641111111111111\r\n        someVM1  Hard disk 1  0:0                         180\r\n        someVM1  Hard disk 2  1:0    someVM1-/log_dir     120 naa.60000111111115615641111111111112\r\n\r\n\r\n### `Get-VNVMEVCInfo`: Get VM EVC configuration information for VMs with different EVC mode than the cluster\r\n        C:\\PS> Get-VNVMEVCInfo -Cluster myCluster | Where-Object {$_.VMEVCMode -ne $_.ClusterEVCMode}\r\n        Name        PowerState   VMEVCMode   ClusterEVCMode   ClusterName\r\n        ----        ----------   ---------   --------------   -----------\r\n        myvm001     poweredOff               intel-nehalem    myCluster0\r\n        myvm100     poweredOff               intel-nehalem    myCluster0\r\n\r\n\r\n### `Get-VNVMHostBrokenUplink`: Get information for all VMHost's vSSwitches' uplinks (ones used as uplinks, but with no apparent link)\r\n        C:\\PS> Get-VNVMHostBrokenUplink\r\n        VMHost            vSwitch   BustedVmnic  BitRatePerSec\r\n        ------            -------   -----------  -------------\r\n        myhost03.dom.com  vSwitch0  vmnic1                   0\r\n        myhost22.dom.com  vSwitch5  vmnic7                   0\r\n        myhost24.dom.com  vSwitch1  vmnic3                   0\r\n\r\n\r\n### `Get-VNVMHostFirmwareInfo`: Get some HP VMHosts' firmware information    \r\n        C:\\PS> Get-VMHost myhost01.dom.com,myhost02.dom.com | Get-VNVMHostFirmwareInfo\r\n        VMHostName   : myhost01.dom.com\r\n        SystemBIOS   : HP System BIOS P65 2015-08-16 00:00:00.000\r\n        HPSmartArray : HP Smart Array Controller HPSA1 Firmware 6.64\r\n        iLOFirmware  : Hewlett-Packard BMC Firmware (node 0) 46:10000 1.88\r\n        Model        : ProLiant DL580 G7\r\n\r\n        VMHostName   : myhost02.dom.com\r\n        SystemBIOS   : HP System BIOS P65 2015-08-16 00:00:00.000\r\n        HPSmartArray : HP Smart Array Controller HPSA1 Firmware 6.64\r\n        iLOFirmware  : Hewlett-Packard BMC Firmware (node 0) 46:10000 1.88\r\n        Model        : ProLiant DL580 G7\r\n\r\n\r\n### `Get-VNVMHostHBAWWN`: Get VMHost HBA WWNs on the quick\r\n        C:\\PS> Get-VMHost myVMHost.dom.com | Get-VMHostHBAWWN\r\n        VMHostName        DeviceName  HBAPortWWN               HBANodeWWN               HBAStatus\r\n        ----------        ----------  ----------               ----------               ---------\r\n        myVMHost.dom.com  vmhba2      10:00:00:00:aa:bb:cc:53  20:00:00:00:aa:bb:cc:53  online\r\n        myVMHost.dom.com  vmhba3      10:00:00:00:aa:bb:cc:86  20:00:00:00:aa:bb:cc:86  online\r\n\r\n\r\n### `Get-VNVMHostLogicalVolumeInfo`:  Get VMHosts' logical volume information\r\n        C:\\PS>Get-Cluster myCluster0 | Get-VMHost | Get-VNVMHostLogicalVolumeInfo\r\n        VMHostName          LogicalVolume\r\n        ----------          -------------\r\n        myhost20.dom.com    Logical Volume 1 on HPSA1 : RAID 1 : 136GB : Disk 1,2\r\n        myhost21.dom.com    Logical Volume 1 on HPSA1 : RAID 1 : 136GB : Disk 1,2\r\n        myhost22.dom.com    Logical Volume 1 on HPSA1 : RAID 1 : 279GB : Disk 1,2,3\r\n\r\n\r\n### `Get-VNVMHostNICFirmwareAndDriverInfo`: Grab NIC driver- and firmware version(s) for NICs on VMHosts\r\n    C:\\PS>Get-Cluster myCluster0 | Get-VMHost | Get-VNVMHostNICFirmwareAndDriverInfo | sort VMHostName\r\n    VMHostName         NicDriverVersion        NicFirmwareVersion\r\n    ----------         ----------------        ------------------\r\n    myhost0.dom.com    nx_nic driver 5.0.619   nx_nic device firmware 4.0.588\r\n    myhost1.dom.com    nx_nic driver 5.0.619   nx_nic device firmware 4.0.588\r\n    myhost2.dom.com    nx_nic driver 5.0.619   nx_nic device firmware 4.0.588\r\n    ...\r\n\r\n\r\n### Other cmdlets in module, for which sample output not provided here:\r\n- `Invoke-VNEvacuateDatastore`\r\n- `Move-VNTemplateFromVMHost`\r\n- `Update-VNTitleBarForPowerCL`\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}